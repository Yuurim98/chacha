<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="center">
 	<insert id="insert" parameterType="java.util.Map">
	 	INSERT INTO animal (anino, uid, aname, age, gender, weight, genop, vac, intro, anipic, adopt, adopt_pos, animal_date)
		VALUES (#{anino}, #{uid}, #{aname}, #{age}, #{gender}, #{weight}, #{genop}, #{vac}, #{intro}, #{anipic}, #{adopt}, #{adopt_pos}, NOW())
 	</insert>
 	
 	
 	
 	<select id="form" resultType="java.util.Map">
 		SELECT anino, aname, age, gender, weight, genop, vac, intro, anipic, adopt, cnt, adopt_pos, animal_date
 		FROM animal
 		ORDER BY animal_date desc
 	</select>
 	
 	<select id="detail" resultType="java.util.Map">
 		SELECT anino, aname, age, uid, gender, weight, genop, vac, intro, anipic, adopt, cnt, adopt_pos
 		FROM animal
 		WHERE anino = #{anino}
 	</select>
 	
	<select id="anipic" resultType="String" parameterType="String">
 		SELECT anipic
 		FROM animal
 		WHERE anino = #{anino}
 	</select> 
 	
 	<update id="update">
 		UPDATE animal 
 		SET anino = #{anino}, aname = #{aname}, age = #{age}, gender = #{gender}, weight = #{weight}, genop = #{genop}, vac = #{vac}, intro = #{intro}, anipic = #{anipic}, adopt = #{adopt}, adopt_pos = #{adopt_pos}
 		WHERE anino = #{anino}		
 	</update>
 	
 	<delete id="delete" parameterType="String">
 		DELETE FROM animal
 		WHERE anino = #{anino}
 	</delete>
 	
 	<!-- <select id="check" parameterType="java.util.Map" resultType="int">
 		SELECT count(SUM(score))
		FROM select uid
			 from quiz_sub
			 group by uid
		QS INNER JOIN education ED ON QS.uid = ED.uid
		GROUP BY score
		
		
		education
		INNER JOIN quiz_sub ON education.uid = quiz_sub.uid
		GROUP BY quiz_sub.uid = #{uid} AND eduop = #{str}
		HAVING sum(score) >= 60;
 	</select> -->
 </mapper>
 

 
	
	
	